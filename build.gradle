/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Gradle plugin project to get you started.
 * For more details take a look at the Writing Custom Plugins chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.3/userguide/custom_plugins.html
 */

plugins {
    // Apply the Java Gradle plugin development plugin to add support for developing Gradle plugins
    id 'java-gradle-plugin'

    // Apply the Groovy plugin to add support for Groovy
    id 'groovy'

    id "com.gradle.plugin-publish" version "0.11.0"
    // Apply other plugins here, e.g. the kotlin plugin for a plugin written in Kotlin
    // or the groovy plugin if the plugin uses Groovy
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

dependencies {
    // Use the awesome Spock testing and specification framework
//    testImplementation 'org.spockframework:spock-core:1.3-groovy-2.5'
}



// Add a source set for the functional test suite
sourceSets {
    functionalTest {
    }
}

gradlePlugin.testSourceSets(sourceSets.functionalTest)
configurations.functionalTestImplementation.extendsFrom(configurations.testImplementation)

// Add a task to run the functional tests
task functionalTest(type: Test) {
    testClassesDirs = sourceSets.functionalTest.output.classesDirs
    classpath = sourceSets.functionalTest.runtimeClasspath
}

check {
    // Run the functional tests as part of `check`
    dependsOn(tasks.functionalTest)
}

//==============================


// Unless overridden in the pluginBundle config DSL, the project version will
// be used as your plugin version when publishing
version = "1.0.4"
group = "com.linmilin.adbwificonnectip"


// The configuration example below shows the minimum required properties
// configured to publish your plugin to the plugin portal
pluginBundle {
    website = 'https://github.com/lanxiaoha/SwitchAdbWiFiConnectIp'
    vcsUrl = 'https://github.com/lanxiaoha/SwitchAdbWiFiConnectIp.git'
    description = 'switch AdbWiFiConnect Plugin IP'
    tags = ['AdbWiFiConnect', 'ip']

    plugins {
        AdbWiFiConnectIpPlugin {
            // id is captured from java-gradle-plugin configuration
            id = 'com.linmilin.ip.adbwificonnect'
            displayName = 'switch AdbWiFiConnect Plugin IP'
        }
    }
}

gradlePlugin {
    // Define the plugin
    plugins {
        AdbWiFiConnectIpPlugin {
            id = 'com.linmilin.ip.adbwificonnect'
            implementationClass = 'com.linmilin.ip.AdbWifiConnectIpPluginPlugin'
        }
    }
}